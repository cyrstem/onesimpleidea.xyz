/*Author: -cyrstem@gmail.com, Author URI: -onesimpleidea.xyz*/
function init(e){createScene(),createLight(),createCubes(),loop(),document.addEventListener("mousemove",handleMouseMove,!1)}function createScene(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(60,WIDTH/HEIGHT,1,1e3),camera.lookAt(scene.position),renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.setPixelRatio(window.devicePixelRatio),document.body.appendChild(renderer.domElement),camera.position.z=10,renderer.shadowMap.enabled=!0,window.addEventListener("resize",handleWindowResize,!1),window.addEventListener("click",handleMouseDown,!1)}function handleWindowResize(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix()}function createLight(){hemisphereLight=new THREE.HemisphereLight(Colors.white,Colors.black,1),scene.add(hemisphereLight),light=new THREE.PointLight(Colors.white,.4),light.position.set(0,10,100),scene.add(light)}function Cube(){this.mesh=new THREE.Object3D;for(var e=new THREE.BoxGeometry(2.5,2.5,2.5),n=new THREE.MeshPhongMaterial({color:Colors.black,specular:Colors.black,shininess:5,reflectivity:5}),o=7+Math.floor(3.2*Math.random()),t=0;t<o;t++){var i=new THREE.Mesh(e,n);i.position.x=4.5*(Math.random()-.3),i.position.y=4.5*(Math.random()-.4),i.position.z=4.5*(Math.random()-.4),i.rotation.z=Math.random()*Math.PI,i.rotation.x=Math.random()*Math.PI,i.rotation.y=Math.random()*Math.PI,i.castShadow=!0,i.receiveShadow=!0,this.mesh.add(i),cubes.push(i)}this.moverte=function(){i.rotation.x-=.03,i.rotation.y+=.03,i.rotation.z+=.03},this.action=function(){var e=.1+1.5*Math.random();i.scale.set(e,e,e)}}function createCubes(){cube=new Cube,cube.mesh.position.z=-1,scene.add(cube.mesh)}function handleMouseMove(e){var n=-1+e.clientX/WIDTH*2,o=1-e.clientY/HEIGHT*2;mousePos={x:n,y:o}}function updateCube(){var e=normalize(mousePos.x,-.6,1,-WIDTH,WIDTH),n=normalize(mousePos.y,-.6,1,-HEIGHT,HEIGHT);cube.mesh.rotation.y=.0408*(n-cube.mesh.position.y),cube.mesh.rotation.x=8e-4*(e-cube.mesh.position.x)}function normalize(e,n,o,t,i){var r=Math.max(Math.min(e,o),n),a=o-n,s=(r-n)/a,c=i-t,h=t+s*c;return h}function handleMouseDown(){}function loop(){cube.moverte(),updateCube(),requestAnimationFrame(loop),renderer.render(scene,camera);for(var e=0;e<cubes.length;e++)cubes[e].rotation.x+=.03}var scene,camera,renderer,HEIGHT,WIDTH,container,Colors={white:14213858,brown:5845806,grey:10132122,greyDark:1512983,brownDark:2300175,black:0},light,hemisphereLight,shadowLight,cube,cubes=[],mousePos={x:0,y:0};init();